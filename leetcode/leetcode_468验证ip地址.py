# 468. éªŒè¯IPåœ°å€ python3
# ä¸­ç­‰ å­—ç¬¦ä¸²
#
# ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥éªŒè¯è¾“å…¥çš„å­—ç¬¦ä¸²æ˜¯å¦æ˜¯æœ‰æ•ˆçš„ IPv4 æˆ– IPv6 åœ°å€ã€‚
# IPv4 åœ°å€ç”±åè¿›åˆ¶æ•°å’Œç‚¹æ¥è¡¨ç¤ºï¼Œæ¯ä¸ªåœ°å€åŒ…å«4ä¸ªåè¿›åˆ¶æ•°ï¼Œå…¶èŒƒå›´ä¸º 0 - 255ï¼Œ ç”¨(".")åˆ†å‰²ã€‚æ¯”å¦‚ï¼Œ172.16.254.1ï¼›
# åŒæ—¶ï¼ŒIPv4 åœ°å€å†…çš„æ•°ä¸ä¼šä»¥ 0 å¼€å¤´ã€‚æ¯”å¦‚ï¼Œåœ°å€ 172.16.254.01 æ˜¯ä¸åˆæ³•çš„ã€‚
# IPv6 åœ°å€ç”±8ç»„16è¿›åˆ¶çš„æ•°å­—æ¥è¡¨ç¤ºï¼Œæ¯ç»„è¡¨ç¤º 16 æ¯”ç‰¹ã€‚è¿™äº›ç»„æ•°å­—é€šè¿‡ (":")åˆ†å‰²ã€‚
# æ¯”å¦‚, 2001:0db8:85a3:0000:0000:8a2e:0370:7334 æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„åœ°å€ã€‚
# è€Œä¸”ï¼Œæˆ‘ä»¬å¯ä»¥åŠ å…¥ä¸€äº›ä»¥ 0 å¼€å¤´çš„æ•°å­—ï¼Œå­—æ¯å¯ä»¥ä½¿ç”¨å¤§å†™ï¼Œä¹Ÿå¯ä»¥æ˜¯å°å†™ã€‚
# æ‰€ä»¥ï¼Œ 2001:db8:85a3:0:0:8A2E:0370:7334 ä¹Ÿæ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv6 addressåœ°å€ (å³ï¼Œå¿½ç•¥ 0 å¼€å¤´ï¼Œå¿½ç•¥å¤§å°å†™)ã€‚
# ç„¶è€Œï¼Œæˆ‘ä»¬ä¸èƒ½å› ä¸ºæŸä¸ªç»„çš„å€¼ä¸º 0ï¼Œè€Œä½¿ç”¨ä¸€ä¸ªç©ºçš„ç»„ï¼Œä»¥è‡³äºŽå‡ºçŽ° (::)ðŸ˜ƒðŸ˜ƒðŸ˜ƒ çš„æƒ…å†µã€‚
# æ¯”å¦‚ï¼Œ 2001:0db8:85a3::8A2E:0370:7334 æ˜¯æ— æ•ˆçš„ IPv6 åœ°å€ã€‚
# åŒæ—¶ï¼Œåœ¨ IPv6 åœ°å€ä¸­ï¼Œå¤šä½™çš„ 0 ä¹Ÿæ˜¯ä¸è¢«å…è®¸çš„ã€‚æ¯”å¦‚ï¼Œ 02001:0db8:85a3:0000:0000:8a2e:0370:7334 æ˜¯æ— æ•ˆçš„ã€‚
# è¯´æ˜Ž: ä½ å¯ä»¥è®¤ä¸ºç»™å®šçš„å­—ç¬¦ä¸²é‡Œæ²¡æœ‰ç©ºæ ¼æˆ–è€…å…¶ä»–ç‰¹æ®Šå­—ç¬¦ã€‚
# ç¤ºä¾‹ 1:
# è¾“å…¥: â€œ172.16.254.1â€
#
# è¾“å‡º: â€œIPv4â€
#
# è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv4 åœ°å€, æ‰€ä»¥è¿”å›ž â€œIPv4â€ã€‚
#
# ç¤ºä¾‹ 2:
# è¾“å…¥: â€œ2001:0db8:85a3:0:0:8A2E:0370:7334â€
#
# è¾“å‡º: â€œIPv6â€
#
# è§£é‡Š: è¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ IPv6 åœ°å€, æ‰€ä»¥è¿”å›ž â€œIPv6â€ã€‚
#
# ç¤ºä¾‹ 3:
# è¾“å…¥: â€œ256.256.256.256â€
#
# è¾“å‡º: â€œNeitherâ€
#
# è§£é‡Š:
# è¿™ä¸ªåœ°å€æ—¢ä¸æ˜¯ IPv4 ä¹Ÿä¸æ˜¯ IPv6 åœ°å€ã€‚


# æ‰§è¡Œç”¨æ—¶ï¼š44 ms , åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº† 41.10% çš„ç”¨æˆ·
# å†…å­˜æ¶ˆè€—ï¼š13.4 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº† 100.00% çš„ç”¨æˆ·
class Solution:
    def validIPAddress(self, IP: str) -> str:

        def is_IPv4():
            for i in IP.split('.'):
                if len(i) < 1 or i > "255" or (i[0] == "0" and i != "0"):
                    return "Neither"
            return "IPv4"

        def is_IPv6():
            for x in IP.split(':'):
                if 0 < len(x) <= 4:
                    for i in x:
                        if not ("a" <= i <= "f" or "A" <= i <= "F" or "0" <= i <= "9"):
                            return "Neither"
                else:
                    return "Neither"

            return "IPv6"

        if 7 <= len(IP) <= 39:
            if IP.count('.') == 3:
                return is_IPv4()
            elif IP.count(':') == 7:
                return is_IPv6()
        return "Neither"


s = Solution()
ip = "172.16.254.1"
ret = s.validIPAddress(ip)
print(ret, ret == "IPv4")
ip = "102.16.254.0"
ret = s.validIPAddress(ip)
print(ret, ret == "IPv4")
ip = "102.016.254.0"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")
ip = "256.256.256.256"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")
ip = "1e1.4.5.6"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")
ip = "00.0.0.0"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")
ip = "2001:0db8:85a3:0:0:8A2E:0370:7334"
ret = s.validIPAddress(ip)
print(ret, ret == "IPv6")
ip = "02001:0db8:85a3:0:0:8A2E:0370:7334"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")
ip = "2001:0db8:85a3:0:0:8A2E:0370:7334:"
ret = s.validIPAddress(ip)
print(ret, ret == "Neither")